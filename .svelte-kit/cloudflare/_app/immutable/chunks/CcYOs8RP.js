var G=Object.defineProperty;var w=t=>{throw TypeError(t)};var J=(t,e,s)=>e in t?G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var L=(t,e,s)=>J(t,typeof e!="symbol"?e+"":e,s),U=(t,e,s)=>e.has(t)||w("Cannot "+s);var i=(t,e,s)=>(U(t,e,"read from private field"),s?s.call(t):e.get(t)),_=(t,e,s)=>e.has(t)?w("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),N=(t,e,s,r)=>(U(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);import{o as x,p as K,q as D,t as Q,a as Y,u as k,h as V,k as W,v as X,w as Z,x as j,y as H,z as F,A as ee,B as E,D as $,E as te,F as se,G as re,P as ie,I as ae,J as ne,K as fe,M as ue,O as ce,Q as de,R as oe,S as le,T as he,U as _e,V as ve,W as be,X as ge}from"./D49fEAeC.js";import{s as me,g as pe}from"./B-eMqVB_.js";var o,h,c,S,P,O;class Ee{constructor(e,s=!0){L(this,"anchor");_(this,o,new Map);_(this,h,new Map);_(this,c,new Map);_(this,S,!0);_(this,P,()=>{var e=x;if(i(this,o).has(e)){var s=i(this,o).get(e),r=i(this,h).get(s);if(r)K(r);else{var a=i(this,c).get(s);a&&(i(this,h).set(s,a.effect),i(this,c).delete(s),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[n,d]of i(this,o)){if(i(this,o).delete(n),n===e)break;const f=i(this,c).get(d);f&&(D(f.effect),i(this,c).delete(d))}for(const[n,d]of i(this,h)){if(n===s)continue;const f=()=>{if(Array.from(i(this,o).values()).includes(n)){var v=document.createDocumentFragment();X(d,v),v.append(Y()),i(this,c).set(n,{effect:d,fragment:v})}else D(d);i(this,h).delete(n)};i(this,S)||!r?Q(d,f,!1):f()}}});_(this,O,e=>{i(this,o).delete(e);const s=Array.from(i(this,o).values());for(const[r,a]of i(this,c))s.includes(r)||(D(a.effect),i(this,c).delete(r))});this.anchor=e,N(this,S,s)}ensure(e,s){var r=x,a=Z();if(s&&!i(this,h).has(e)&&!i(this,c).has(e))if(a){var n=document.createDocumentFragment(),d=Y();n.append(d),i(this,c).set(e,{effect:k(()=>s(d)),fragment:n})}else i(this,h).set(e,k(()=>s(this.anchor)));if(i(this,o).set(r,e),a){for(const[f,l]of i(this,h))f===e?r.skipped_effects.delete(l):r.skipped_effects.add(l);for(const[f,l]of i(this,c))f===e?r.skipped_effects.delete(l.effect):r.skipped_effects.add(l.effect);r.oncommit(i(this,P)),r.ondiscard(i(this,O))}else V&&(this.anchor=W),i(this,P).call(this)}}o=new WeakMap,h=new WeakMap,c=new WeakMap,S=new WeakMap,P=new WeakMap,O=new WeakMap;let A=!1,M=Symbol();function Oe(t,e,s){const r=s[e]??(s[e]={store:null,source:ee(void 0),unsubscribe:F});if(r.store!==t&&!(M in s))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=F;else{var a=!0;r.unsubscribe=me(t,n=>{a?r.source.v=n:$(r.source,n)}),a=!1}return t&&M in s?pe(t):E(r.source)}function ye(){const t={};function e(){j(()=>{for(var s in t)t[s].unsubscribe();H(t,M,{enumerable:!1,value:!0})})}return[t,e]}function Se(t){var e=A;try{return A=!1,[t(),A]}finally{A=e}}function De(t,e,s,r){var T;var a=!he||(s&_e)!==0,n=(s&le)!==0,d=(s&oe)!==0,f=r,l=!0,v=()=>(l&&(l=!1,f=d?te(r):r),f),g;if(n){var q=be in t||ge in t;g=((T=se(t,e))==null?void 0:T.set)??(q&&e in t?u=>t[e]=u:void 0)}var m,R=!1;n?[m,R]=Se(()=>t[e]):m=t[e],m===void 0&&r!==void 0&&(m=v(),g&&(a&&re(),g(m)));var b;if(a?b=()=>{var u=t[e];return u===void 0?v():(l=!0,u)}:b=()=>{var u=t[e];return u!==void 0&&(f=void 0),u===void 0?f:u},a&&!(s&ie))return b;if(g){var z=t.$$legacy;return function(u,I){return arguments.length>0?((!a||!I||z||R)&&g(I?b():u),u):b()}}var y=!1,p=(s&ve?ae:ne)(()=>(y=!1,b()));n&&E(p);var C=ce;return function(u,I){if(arguments.length>0){const B=I?E(p):a&&n?fe(u):u;return $(p,B),y=!0,f!==void 0&&(f=B),u}return ue&&y||C.f&de?p.v:E(p)}}export{Ee as B,Oe as a,De as p,ye as s};
