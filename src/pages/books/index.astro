---
import { getCollection } from "astro:content";
import Layout from "@layouts/Layout.astro";

let books = await getCollection("books");

let hasAbandoned = books.some((b) => b.data.abandoned);
---

<Layout title="Books - Brandon Pittman">
  <main class="region wrapper prose flow-xs">
    <h1>Books</h1>
    <ul role="list" class="flow">
      <li>
        <a href="/books/finished">Finished</a>
      </li>
      <li>
        <a href="/books/unfinished">Unfinished</a>
      </li>
      <li>
        <a href="/books/unread">Unread</a>
      </li>
      {
        hasAbandoned ? (
          <li>
            <a href="/books/abandoned">Abandoned</a>
          </li>
        ) : null
      }
    </ul>
  </main>
</Layout>

<style>
  main {
    flex: 1 1 0%;
  }

  li > a {
    --gutter: var(--space-xs);
  }

  /* details > ul {
    margin-block-start: 1rem;
  }

  summary {
    @media (min-width: 640px) {
      inline-size: 11rem;
      text-align: end;
    }
  } */
</style>
